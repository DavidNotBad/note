





## 修改网络配置

https://www.linuxidc.com/Linux/2017-10/147449.htm

这里首先是进入**/etc/sysconfig/network-scripts**中查看现有的配置文件:

```
# cd /etc/sysconfig/network-scripts
```

通过ls查看文件看到该文件目录下的文件:

![img](https://www.linuxidc.com/upload/2017_10/171011080078516.png)

这里需要使用的配置文件是:**ifcfg-eno16777736**,每个人的可能不一样,切换root权限,通过vim进到里面,可以看到里面的内容:

```
TYPE=Ethernet
BOOTPROTO=dhcp
DEFROUTE=yes
PEERDNS=yes
PEERROUTES=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=eno16777736
UUID=ae05ccde-6a29-4332-b486-f3042da73ac0
DEVICE=eno16777736
ONBOOT=no
```

这里说一下需要修改的位置:

```
#修改
BOOTPROTO=static #这里讲dhcp换成ststic
ONBOOT=yes #将no换成yes
#新增
IPADDR=192.168.85.100 #静态IP
GATEWAY=192.168.85.2 #默认网关
NETMASK=255.255.255.0 #子网掩码
PEERD=no 
DNS1=8.8.8.8 
DNS2=114.114.114.114
```

保存退出后,重启网络服务:

```
# service network restart
Restarting network (via systemctl):                        [  确定  ]
```

查看当前ip:

​	ip addr



## 优化

```
https://www.linuxidc.com/Linux/2017-10/147578.htm

#添加公网DNS地址
cat >> /etc/resolv.conf << EOF
nameserver 114.114.114.114
EOF

#Yum源更换为国内阿里源
yum install wget telnet -y
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

#添加阿里的epel源
#add the epel
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
# rpm -ivh http://dl.Fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-8.noarch.rpm

#yum重新建立缓存
yum clean all
yum makecache
#同步时间
yum -y install ntp
/usr/sbin/ntpdate cn.pool.ntp.org
echo "* 4 * * * /usr/sbin/ntpdate cn.pool.ntp.org > /dev/null 2>&1" >> /var/spool/cron/root
systemctl  restart crond.service



#禁用selinux
sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config
setenforce 0

#关闭防火墙
systemctl disable firewalld.service 
systemctl stop firewalld.service 

yum -y update
```


## 更新yum源

[1] 首先备份/etc/yum.repos.d/CentOS-Base.repo

```
cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
```

[2] 进入yum源配置文件所在文件夹

```
[root@localhost yum.repos.d]# cd /etc/yum.repos.d/
```

[3] 下载163的yum源配置文件，放入/etc/yum.repos.d/(操作前请做好相应备份)

```
[root@localhost yum.repos.d]# wget http://mirrors.163.com/.help/CentOS6-Base-163.repo
```

[4] 运行yum makecache生成缓存

```
[root@localhost yum.repos.d]# yum makecache
```

[5] 更新系统(时间比较久,主要看个人网速)

```
[root@localhost yum.repos.d]# yum -y update
```

[6] 安装vim编辑器

```
[root@localhost ~]# yum -y install vim*
```



1、查看nginx的编译参数 `# nginx -V``nginx version: nginx/1.9.4``built ``by` `gcc 4.4.7 20120313 (Red Hat 4.4.7-16) (GCC) ``configure arguments: --prefix=/usr/local/nginx --with-http_realip_module` 



`2. # /usr/local/php/bin/php -i |grep configure`

`Configure Command =>  ``'./configure'`  `'--prefix=/usr/local/php'` `'--with-mysql'` `'--with-freetype-dir=/usr/lib64/libfreetype.so'` `'--with-config-file-path=/etc'` `'--enable-ftp'` `'--enable-inline-optimization'` `'--enable-mbstring'` `'--enable-xml'` `'--with-gd'` `'--with-gettext'` `'--with-regex=system'` `'--with-zlib-dir=/usr/lib64'` `'--enable-fpm'` `'--with-jpeg-dir'` `'--with-fpm-user=root'` `'--with-mcrypt'`





新版php集成fpm

https://www.cnblogs.com/flywind/p/6019631.html

开启和关闭

http://www.cnblogs.com/peteremperor/p/6740725.html

防火墙/setlinux/systemctl 

https://www.linuxidc.com/Linux/2017-12/149325.htm

https://www.jianshu.com/p/b25afb669337





cp -r boost/ /usr/local/

```

#添加公网DNS地址
cat >> /etc/resolv.conf << EOF
nameserver 114.114.114.114
EOF
```



cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock -DWITH_BOOST=/usr/local/boost





**备注：mysql5.7的编译需指定boost,即：DWITH_BOOST=/usr/local/boost或者-DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/boost**

**加上****-DWITH_SYSTEMD=1****可以使用****systemd****控制****mysql****服务，默认是不开启****systemd****的。但是如果不支持，****cmake****的时候回出错**

 

  cp -r boost/ /usr/local/

```
cmake . \
-DCMAKE_INSTALL_PREFIX=/usr/local/mysql \
-DSYSCONFDIR=/etc \
-DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock \
-DDEFAULT_CHARSET=utf8 \
-DDEFAULT_COLLATION=utf8_general_ci \
-DMYSQL_DATADIR=/usr/local/mysql/data \
-DMYSQL_USER=mysql \
-DWITH_DEBUG=0 \
-DEXTRA_CHARSETS=all \
-DWITH_MYISAM_STORAGE_ENGINE=1 \
-DWITH_INNOBASE_STORAGE_ENGINE=1 \
-DMYSQL_TCP_PORT=3306 \
-DWITH_BOOST=/usr/local/boost/boost_1_59_0 \
-DSYSTEMD_PID_DIR=/usr/local/mysql  \
-DWITH_SYSTEMD=1
```



 

 



动态添加扩展

https://www.cnblogs.com/wangjinke/p/6019285.html

https://www.cnblogs.com/doseoer/p/4367536.html



















































































