## 修改用户所属shell

```

 usermod -s /usr/bin/git-shell git
```

## 拷贝sshkey

```
2. 拷贝A的公钥（id_rsa.pub）到B

这里拷贝到B的root用户home目录下为例：

scp /root/.ssh/id_rsa.pub root@192.168.1.200:/root


3、登录B

拷贝A的id_rsa.pub内容到.ssh目录下的authorized_keys文件中

cd /root
cat id_rsa.pub >> .ssh/authorized_keys


4、此时在A中用SSH登录B或向B拷贝文件，将不需要密码

ssh root@192.168.1.201
scp abc.txt root@192.168.1.201:/root


实现B免密码登录A，操作方式是一样的，在B中用ssh-keygen生成ssh密钥对，将公钥拷贝到A中，A将B的公钥拷贝到.ssh目录下的authorized_keys文件中即可。
快捷方式

ssh-copy-id -i ~/.ssh/id_rsa.pub root@服务器地址
```



## 系统间传输文件

```
scp -r 待发送的文件或目录 远程服务器的地址
或
scp -r 远程服务器的地址 本地的目录


scp -r /root/lk root@43.224.34.73:/home/lk/cpfile
```



## git 配合 natapp 

```
git clone ssh://git@server.natappfree.cc:35587/data/git/shijianxiaogui-houtai.git
```

## nginx 配置

```shell


server {
        listen 80;

        # SSL configuration
        #
        # listen 443 ssl default_server;
        # listen [::]:443 ssl default_server;
        #
        # Note: You should disable gzip for SSL traffic.
        # See: https://bugs.debian.org/773332
        #
        # Read up on ssl_ciphers to ensure a secure configuration.
        # See: https://bugs.debian.org/765782
        #
        # Self signed certs generated by the ssl-cert package
        # Don't use them in a production server!
        #
        # include snippets/snakeoil.conf;

        root /var/www/blog;

        # Add index.php to the list if you are using PHP
        index index.php index.html index.htm index.nginx-debian.html;

        server_name davidnotbad.com  www.davidnotbad.com;


        location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                # try_files $uri $uri/ =404;
                try_files $uri $uri/ /index.php?query_string;
        }


        location ~ \.php$ {
                try_files $uri /index.php =404;
                fastcgi_split_path_info ^(.+\.php)(/.+)$;
                fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;
                fastcgi_index index.php;
                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                include fastcgi_params;
        }

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ {
        #       include snippets/fastcgi-php.conf;
        #
        #       # With php7.0-cgi alone:
        #       fastcgi_pass 127.0.0.1:9000;
        #       # With php7.0-fpm:
        #       fastcgi_pass unix:/run/php/php7.0-fpm.sock;
        #}

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht {
        #       deny all;
        #}
}

```

